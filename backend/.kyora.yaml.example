env: development
app:
  name: kyora
  domain: localhost
  notifications_email: "noreply@kyora.io"
log: 
  level: INFO
  format: json
http:
  port: 8080
  base_url: "http://localhost:8080"
  trace_id_header: "X-Trace-ID"
  # Increase if using `storage.provider: local` and uploading file bytes to the API.
  max_body_bytes: 6291456
cors:
  # Origins allowed to make authenticated requests to the API
  # In development, these should match your local dev servers
  # In production, these should be your deployed portal and storefront URLs
  allowed_origins:
    - "http://localhost:5173" # portal-web dev server
    - "http://localhost:5174" # storefront-web dev server
    # - "https://portal.kyora.io" # production portal
    # - "https://app.kyora.io"    # production app
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "PATCH"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "Origin"
    - "Content-Type"
    - "Accept"
    - "Authorization"
    - "Idempotency-Key"
    - "X-Trace-ID"
  expose_headers:
    - "X-Trace-ID"
  max_age: 43200 # 12 hours in seconds
  # Set to true to allow all origins (NOT recommended for production)
  # When true, credentials (cookies/auth headers) will NOT be supported
  allow_all_origins: false
database:
  dsn: "host=localhost user=postgres password=postgres dbname=kyora port=5432 sslmode=disable TimeZone=UTC"
  max_open_conns: 25
  max_idle_conns: 25
  conn_max_lifetime_minutes: 5
  log_level: "warn"
cache:
  hosts:
    - "localhost:11211"
auth:
  jwt:
    secret: "your_jwt_secret_key_change_this_in_production"
    expiry_seconds: 3600
    issuer: "kyora"
    audience: "kyora_users"
  password_reset_ttl_seconds: 900
  verify_email_ttl_seconds: 900
  invitation_token_ttl_seconds: 604800
  google_oauth:
    client_id: ""
    client_secret: ""
    redirect_url: "http://localhost:8080/auth/google/callback"
billing:
  stripe:
    api_key: "sk_test_123"
    api_base_url: "http://localhost:12111" # point to stripe-mock in local dev
    webhook_secret: "whsec_your_webhook_secret"
email:
  provider: "mock" # options: resend, mock
  resend:
    api_key: "re_your_resend_api_key"
    base_url: "https://api.resend.com"
  from_email: "noreply@kyora.io"
  from_name: "Kyora"
  support_email: "support@kyora.io"
  help_url: "https://kyora.io/help"

# Blob storage / uploads
# - `local` is intended for local development and tests (upload bytes to Kyora)
# - `s3` supports S3-compatible providers like DigitalOcean Spaces
storage:
  provider: "local" # options: local, s3
  bucket: ""
  region: ""
  endpoint: "" # e.g. https://nyc3.digitaloceanspaces.com
  access_key_id: ""
  secret_access_key: ""
  public_base_url: "" # e.g. https://my-bucket.nyc3.digitaloceanspaces.com

uploads:
  max_bytes: 5242880
