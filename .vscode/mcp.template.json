{
  "_comment": [
    "Kyora Agent OS - MCP Server Template",
    "",
    "This is a TEMPLATE FILE, NOT auto-enabled configuration.",
    "To enable MCP servers:",
    "  1. Copy this file to .vscode/mcp.json",
    "  2. Rename 'inputs_template' to 'inputs' and provide values",
    "  3. Uncomment/configure the servers you need",
    "",
    "Policy reference: KYORA_AGENT_OS.md Section 7 (MCP + Tooling Policy)",
    "",
    "Safety rules (from KYORA_AGENT_OS.md):",
    "  - Treat local MCP servers as code execution: only add trusted servers",
    "  - Never paste secrets; use VS Code input variables for sensitive values",
    "  - Prefer tool sets (grouped tools) and keep enabled tools under limits",
    "",
    "Approved MCP servers (current):",
    "  - GitHub MCP (remote): issues/PRs/policies; keep off for local-only tasks",
    "  - Context7: up-to-date library docs/snippets; use sparingly",
    "  - Playwright: UI automation, screenshots, smoke flows",
    "  - Chrome DevTools: layout/perf/network debugging",
    "",
    "When NOT to use MCP:",
    "  - Simple local refactors",
    "  - Tasks solvable via workspace search + reading existing code",
    "  - Anything that would require secrets or sensitive logs"
  ],
  "inputs_template": {
    "github-token": {
      "type": "promptString",
      "description": "GitHub Personal Access Token for MCP",
      "password": true
    }
  },
  "servers": {
    "_context7": {
      "_comment": "Context7 - Library docs/snippets. Use sparingly for API verification.",
      "command": "npx",
      "args": ["-y", "@context7/mcp-server"],
      "disabled": true
    },
    "_github": {
      "_comment": "GitHub MCP - Issues/PRs/repo context. Keep off for local-only tasks.",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${input:github-token}"
      },
      "disabled": true
    },
    "_playwright": {
      "_comment": "Playwright - UI automation, screenshots, smoke flows.",
      "command": "npx",
      "args": ["-y", "@anthropic-ai/mcp-server-playwright"],
      "disabled": true
    }
  },
  "mcpServers_reference": {
    "_note": "The above 'servers' object uses VS Code MCP format. Some servers may use different key names. Consult each MCP server's documentation for exact configuration.",
    "default_toolchain_by_lane": {
      "Discovery": {
        "default": ["workspace search/read"],
        "add_if_needed": ["GitHub MCP (repo context)", "Context7 (library uncertainty)"]
      },
      "Planning": {
        "default": ["search/read", "small targeted reads"],
        "add_if_needed": ["Context7 (API usage)", "diagrams only if asked"]
      },
      "Implementation": {
        "default": ["edit", "execute", "focused tests"],
        "add_if_needed": ["Playwright/DevTools (UI validation)", "Context7 (new dep/library)"]
      },
      "Validation": {
        "default": ["execute/tests"],
        "add_if_needed": ["Playwright (UI smoke)", "DevTools (perf/layout)"]
      },
      "Recovery": {
        "default": ["changes", "search/read"],
        "add_if_needed": ["none unless blocked"]
      }
    }
  }
}
